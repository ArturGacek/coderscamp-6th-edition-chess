(()=>{var t={963:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},793:(t,e,n)=>{"use strict";var r=n(496)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},7:(t,e,n)=>{var r=n(286);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},488:(t,e,n)=>{var r=n(32),o=n(314)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},32:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},645:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},741:(t,e,n)=>{var r=n(963);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},355:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},57:(t,e,n)=>{t.exports=!n(253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},457:(t,e,n)=>{var r=n(286),o=n(816).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},985:(t,e,n)=>{var r=n(816),o=n(645),i=n(728),c=n(234),a=n(741),u=function(t,e,n){var s,l,f,p,d=t&u.F,h=t&u.G,v=t&u.S,g=t&u.P,x=t&u.B,y=h?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,m=h?o:o[e]||(o[e]={}),b=m.prototype||(m.prototype={});for(s in h&&(n=e),n)f=((l=!d&&y&&void 0!==y[s])?y:n)[s],p=x&&l?a(f,r):g&&"function"==typeof f?a(Function.call,f):f,y&&c(y,s,f,t&u.U),m[s]!=f&&i(m,s,p),g&&b[s]!=f&&(b[s]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},253:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},82:(t,e,n)=>{"use strict";n(269);var r=n(234),o=n(728),i=n(253),c=n(355),a=n(314),u=n(165),s=a("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=a(t),d=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=d?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[s]=function(){return n}),n[p](""),!e})):void 0;if(!d||!h||"replace"===t&&!l||"split"===t&&!f){var v=/./[p],g=n(c,p,""[t],(function(t,e,n,r,o){return e.exec===u?d&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),x=g[0],y=g[1];r(String.prototype,t,x),o(RegExp.prototype,p,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},218:(t,e,n)=>{"use strict";var r=n(7);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},18:(t,e,n)=>{t.exports=n(825)("native-function-to-string",Function.toString)},816:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},181:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},728:(t,e,n)=>{var r=n(275),o=n(681);t.exports=n(57)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},734:(t,e,n)=>{t.exports=!n(57)&&!n(253)((function(){return 7!=Object.defineProperty(n(457)("div"),"a",{get:function(){return 7}}).a}))},286:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},461:t=>{t.exports=!1},275:(t,e,n)=>{var r=n(7),o=n(734),i=n(689),c=Object.defineProperty;e.f=n(57)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},681:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},234:(t,e,n)=>{var r=n(816),o=n(728),i=n(181),c=n(953)("src"),a=n(18),u="toString",s=(""+a).split(u);n(645).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,c)||o(n,c,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[c]||a.call(this)}))},787:(t,e,n)=>{"use strict";var r=n(488),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},165:(t,e,n)=>{"use strict";var r,o,i=n(218),c=RegExp.prototype.exec,a=String.prototype.replace,u=c,s=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(s||l)&&(u=function(t){var e,n,r,o,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),s&&(e=u.lastIndex),r=c.call(u,t),s&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&a.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},825:(t,e,n)=>{var r=n(645),o=n(816),i="__core-js_shared__",c=o[i]||(o[i]={});(t.exports=function(t,e){return c[t]||(c[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(461)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},496:(t,e,n)=>{var r=n(467),o=n(355);t.exports=function(t){return function(e,n){var i,c,a=String(o(e)),u=r(n),s=a.length;return u<0||u>=s?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===s||(c=a.charCodeAt(u+1))<56320||c>57343?t?a.charAt(u):i:t?a.slice(u,u+2):c-56320+(i-55296<<10)+65536}}},467:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},875:(t,e,n)=>{var r=n(467),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},508:(t,e,n)=>{var r=n(355);t.exports=function(t){return Object(r(t))}},689:(t,e,n)=>{var r=n(286);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},953:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},314:(t,e,n)=>{var r=n(825)("wks"),o=n(953),i=n(816).Symbol,c="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=c&&i[t]||(c?i:o)("Symbol."+t))}).store=r},269:(t,e,n)=>{"use strict";var r=n(165);n(985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},357:(t,e,n)=>{"use strict";var r=n(7),o=n(508),i=n(875),c=n(467),a=n(793),u=n(787),s=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(82)("replace",2,(function(t,e,n,h){return[function(r,o){var i=t(this),c=null==r?void 0:r[e];return void 0!==c?c.call(r,i,o):n.call(String(i),r,o)},function(t,e){var o=h(n,t,this,e);if(o.done)return o.value;var f=r(t),p=String(this),d="function"==typeof e;d||(e=String(e));var g=f.global;if(g){var x=f.unicode;f.lastIndex=0}for(var y=[];;){var m=u(f,p);if(null===m)break;if(y.push(m),!g)break;""===String(m[0])&&(f.lastIndex=a(p,i(f.lastIndex),x))}for(var b,w="",E=0,S=0;S<y.length;S++){m=y[S];for(var M=String(m[0]),I=s(l(c(m.index),p.length),0),k=[],j=1;j<m.length;j++)k.push(void 0===(b=m[j])?b:String(b));var T=m.groups;if(d){var _=[M].concat(k,I,p);void 0!==T&&_.push(T);var B=String(e.apply(void 0,_))}else B=v(M,p,I,k,T,e);I>=E&&(w+=p.slice(E,I)+B,E=I+M.length)}return w+p.slice(E)}];function v(t,e,r,i,c,a){var u=r+t.length,s=i.length,l=d;return void 0!==c&&(c=o(c),l=p),n.call(a,l,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":a=c[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>s){var p=f(l/10);return 0===p?n:p<=s?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}a=i[l-1]}return void 0===a?"":a}))}}))}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{"use strict";n(357);const t=class extends class{constructor(t,e,n){this.x=t,this.y=e,this.side=n}move(t){const e=Number(t[0]),n=Number(t[2]);i[this.x][this.y]=null,document.getElementById("".concat(this.x,",").concat(this.y)).innerHTML="",this.x=e,this.y=n,i[this.x][this.y]=this,document.getElementById(t).innerHTML=this.display}findLegalMoves(){}pieceOnSquare(t,e){return!(!i[t]||!i[t][e])&&i[t][e]}hasLineMovement(){return!!["queen","rook","bishop"].includes(this.name)}}{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0;super(t,e,n),this.validateInput(t,e,n),this.name="king",this.display='<i class="fas fa-chess-king '.concat(n,'"></i>'),-1==t||-1==e?(this.x="white"===n?7:0,this.y=4):(this.x=parseInt(t),this.y=parseInt(e))}findLegalMoves(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=[];for(let n=-1;n<=1;n++){let r=this.x+n>=0&&this.x+n<8?this.x+n:void 0;for(let n=-1;n<=1;n++){let o=this.y+n>=0&&this.y+n<8?this.y+n:void 0;if("number"==typeof r&&"number"==typeof o){let n=this.pieceOnSquare(r,o),i=!t||this.isSafe(r,o);n?(n.side===this.side||!i)&&e.push("".concat(r,",").concat(o)):i&&e.push("".concat(r,",").concat(o))}}}return e}isSafe(t,e){const n="white"===this.side?"black":"white",r=i[t][e];let o=!0;r&&(i[t][e]=void 0);t:for(const r of i)for(const i of r)if(i&&i.side===n){const n=i.findLegalMoves(!1);console.log(n);for(const r of n)if(console.log(r,r[0],t,r[1],e),r[0]==t&&r[2]==e){o=!1;break t}}return r&&(i[t][e]=r),o}willBeCheck(t,e,n){i[t.x][t.y]=void 0;const r=i[e][n];i[e][n]=t;const o=this.isSafe(this.x,this.y);return i[t.x][t.y]=t,i[e][n]=r,o}validateInput(t,e,n){if(t<-1||t>7)throw"x is out of range.";if(e<-1||e>7)throw"y is out of range.";if("white"!==n&&"black"!==n)throw"Wrong value of parameter side: ".concat(n)}},e=new Array(8);for(let t=0;t<8;t++)e[t]=new Array(8);const r=new t(-1,-1,"white"),o=new t(-1,-1,"black");e[r.x][r.y]=r,e[o.x][o.y]=o;const i=e,c=t=>{const e=t.currentTarget.id[0],n=t.currentTarget.id[2];if(!i[e][n])return;const r=i[e][n].findLegalMoves();for(let t of r)document.getElementById(t).className+=" possibleMove",document.getElementById(t).addEventListener("click",(t=>{i[e][n].move(t.currentTarget.id);for(let t=0;t<i.length;t++)for(let e=0;e<i[t].length;e++){document.getElementById("".concat(t,",").concat(e)).className=document.getElementById("".concat(t,",").concat(e)).className.replace("possibleMove","");let n=document.getElementById("".concat(t,",").concat(e)),r=n.cloneNode(!0);n.parentNode.replaceChild(r,n),document.getElementById("".concat(t,",").concat(e)).addEventListener("click",(t=>{c(t)}))}}))},a=c;window.onload=()=>{for(let t=0;t<i.length;t++)for(let e=0;e<i[t].length;e++){const n=document.createElement("div");n.id="".concat(t,",").concat(e),n.innerHTML=i[t][e]?i[t][e].display:"",n.className="square",n.className+=t%2==e%2?" light":" dark",n.addEventListener("click",(t=>{a(t)})),document.getElementById("board").appendChild(n)}}})()})();